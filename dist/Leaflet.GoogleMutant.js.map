{"version":3,"file":"Leaflet.GoogleMutant.js","sources":["../src/lru_map.js","../src/Leaflet.GoogleMutant.js"],"sourcesContent":["// This implementation of LRUMap is a copy of https://github.com/rsms/js-lru/ ,\r\n// trivially adapted for ES6 exports.\r\n\r\n/*\r\nThe MIT License\r\n\r\nCopyright (c) 2010-2020 Rasmus Andersson <https://rsms.me/>\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy\r\nof this software and associated documentation files (the \"Software\"), to deal\r\nin the Software without restriction, including without limitation the rights\r\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\ncopies of the Software, and to permit persons to whom the Software is\r\nfurnished to do so, subject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in\r\nall copies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\nTHE SOFTWARE.\r\n*/\r\n\r\n/**\r\n * A doubly linked list-based Least Recently Used (LRU) cache. Will keep most\r\n * recently used items while discarding least recently used items when its limit\r\n * is reached.\r\n *\r\n * Licensed under MIT. Copyright (c) 2010 Rasmus Andersson <http://hunch.se/>\r\n * See README.md for details.\r\n *\r\n * Illustration of the design:\r\n *\r\n *       entry             entry             entry             entry\r\n *       ______            ______            ______            ______\r\n *      | head |.newer => |      |.newer => |      |.newer => | tail |\r\n *      |  A   |          |  B   |          |  C   |          |  D   |\r\n *      |______| <= older.|______| <= older.|______| <= older.|______|\r\n *\r\n *  removed  <--  <--  <--  <--  <--  <--  <--  <--  <--  <--  <--  added\r\n */\r\n\r\nconst NEWER = Symbol(\"newer\");\r\nconst OLDER = Symbol(\"older\");\r\n\r\nexport class LRUMap {\r\n\tconstructor(limit, entries) {\r\n\t\tif (typeof limit !== \"number\") {\r\n\t\t\t// called as (entries)\r\n\t\t\tentries = limit;\r\n\t\t\tlimit = 0;\r\n\t\t}\r\n\r\n\t\tthis.size = 0;\r\n\t\tthis.limit = limit;\r\n\t\tthis.oldest = this.newest = undefined;\r\n\t\tthis._keymap = new Map();\r\n\r\n\t\tif (entries) {\r\n\t\t\tthis.assign(entries);\r\n\t\t\tif (limit < 1) {\r\n\t\t\t\tthis.limit = this.size;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t_markEntryAsUsed(entry) {\r\n\t\tif (entry === this.newest) {\r\n\t\t\t// Already the most recenlty used entry, so no need to update the list\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// HEAD--------------TAIL\r\n\t\t//   <.older   .newer>\r\n\t\t//  <--- add direction --\r\n\t\t//   A  B  C  <D>  E\r\n\t\tif (entry[NEWER]) {\r\n\t\t\tif (entry === this.oldest) {\r\n\t\t\t\tthis.oldest = entry[NEWER];\r\n\t\t\t}\r\n\t\t\tentry[NEWER][OLDER] = entry[OLDER]; // C <-- E.\r\n\t\t}\r\n\t\tif (entry[OLDER]) {\r\n\t\t\tentry[OLDER][NEWER] = entry[NEWER]; // C. --> E\r\n\t\t}\r\n\t\tentry[NEWER] = undefined; // D --x\r\n\t\tentry[OLDER] = this.newest; // D. --> E\r\n\t\tif (this.newest) {\r\n\t\t\tthis.newest[NEWER] = entry; // E. <-- D\r\n\t\t}\r\n\t\tthis.newest = entry;\r\n\t}\r\n\r\n\tassign(entries) {\r\n\t\tlet entry,\r\n\t\t\tlimit = this.limit || Number.MAX_VALUE;\r\n\t\tthis._keymap.clear();\r\n\t\tlet it = entries[Symbol.iterator]();\r\n\t\tfor (let itv = it.next(); !itv.done; itv = it.next()) {\r\n\t\t\tlet e = new Entry(itv.value[0], itv.value[1]);\r\n\t\t\tthis._keymap.set(e.key, e);\r\n\t\t\tif (!entry) {\r\n\t\t\t\tthis.oldest = e;\r\n\t\t\t} else {\r\n\t\t\t\tentry[NEWER] = e;\r\n\t\t\t\te[OLDER] = entry;\r\n\t\t\t}\r\n\t\t\tentry = e;\r\n\t\t\tif (limit-- == 0) {\r\n\t\t\t\tthrow new Error(\"overflow\");\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.newest = entry;\r\n\t\tthis.size = this._keymap.size;\r\n\t}\r\n\r\n\tget(key) {\r\n\t\t// First, find our cache entry\r\n\t\tvar entry = this._keymap.get(key);\r\n\t\tif (!entry) return; // Not cached. Sorry.\r\n\t\t// As <key> was found in the cache, register it as being requested recently\r\n\t\tthis._markEntryAsUsed(entry);\r\n\t\treturn entry.value;\r\n\t}\r\n\r\n\tset(key, value) {\r\n\t\tvar entry = this._keymap.get(key);\r\n\r\n\t\tif (entry) {\r\n\t\t\t// update existing\r\n\t\t\tentry.value = value;\r\n\t\t\tthis._markEntryAsUsed(entry);\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\t// new entry\r\n\t\tthis._keymap.set(key, (entry = new Entry(key, value)));\r\n\r\n\t\tif (this.newest) {\r\n\t\t\t// link previous tail to the new tail (entry)\r\n\t\t\tthis.newest[NEWER] = entry;\r\n\t\t\tentry[OLDER] = this.newest;\r\n\t\t} else {\r\n\t\t\t// we're first in -- yay\r\n\t\t\tthis.oldest = entry;\r\n\t\t}\r\n\r\n\t\t// add new entry to the end of the linked list -- it's now the freshest entry.\r\n\t\tthis.newest = entry;\r\n\t\t++this.size;\r\n\t\tif (this.size > this.limit) {\r\n\t\t\t// we hit the limit -- remove the head\r\n\t\t\tthis.shift();\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\tshift() {\r\n\t\t// todo: handle special case when limit == 1\r\n\t\tvar entry = this.oldest;\r\n\t\tif (entry) {\r\n\t\t\tif (this.oldest[NEWER]) {\r\n\t\t\t\t// advance the list\r\n\t\t\t\tthis.oldest = this.oldest[NEWER];\r\n\t\t\t\tthis.oldest[OLDER] = undefined;\r\n\t\t\t} else {\r\n\t\t\t\t// the cache is exhausted\r\n\t\t\t\tthis.oldest = undefined;\r\n\t\t\t\tthis.newest = undefined;\r\n\t\t\t}\r\n\t\t\t// Remove last strong reference to <entry> and remove links from the purged\r\n\t\t\t// entry being returned:\r\n\t\t\tentry[NEWER] = entry[OLDER] = undefined;\r\n\t\t\tthis._keymap.delete(entry.key);\r\n\t\t\t--this.size;\r\n\t\t\treturn [entry.key, entry.value];\r\n\t\t}\r\n\t}\r\n\r\n\t// -------------------------------------------------------------------------------------\r\n\t// Following code (until end of class definition) is optional and can be removed without\r\n\t// breaking the core functionality.\r\n\r\n\tfind(key) {\r\n\t\tlet e = this._keymap.get(key);\r\n\t\treturn e ? e.value : undefined;\r\n\t}\r\n\r\n\thas(key) {\r\n\t\treturn this._keymap.has(key);\r\n\t}\r\n\r\n\tdelete(key) {\r\n\t\tvar entry = this._keymap.get(key);\r\n\t\tif (!entry) return;\r\n\t\tthis._keymap.delete(entry.key);\r\n\t\tif (entry[NEWER] && entry[OLDER]) {\r\n\t\t\t// relink the older entry with the newer entry\r\n\t\t\tentry[OLDER][NEWER] = entry[NEWER];\r\n\t\t\tentry[NEWER][OLDER] = entry[OLDER];\r\n\t\t} else if (entry[NEWER]) {\r\n\t\t\t// remove the link to us\r\n\t\t\tentry[NEWER][OLDER] = undefined;\r\n\t\t\t// link the newer entry to head\r\n\t\t\tthis.oldest = entry[NEWER];\r\n\t\t} else if (entry[OLDER]) {\r\n\t\t\t// remove the link to us\r\n\t\t\tentry[OLDER][NEWER] = undefined;\r\n\t\t\t// link the newer entry to head\r\n\t\t\tthis.newest = entry[OLDER];\r\n\t\t} else {\r\n\t\t\t// if(entry[OLDER] === undefined && entry.newer === undefined) {\r\n\t\t\tthis.oldest = this.newest = undefined;\r\n\t\t}\r\n\r\n\t\tthis.size--;\r\n\t\treturn entry.value;\r\n\t}\r\n\r\n\tclear() {\r\n\t\t// Not clearing links should be safe, as we don't expose live links to user\r\n\t\tthis.oldest = this.newest = undefined;\r\n\t\tthis.size = 0;\r\n\t\tthis._keymap.clear();\r\n\t}\r\n\r\n\tkeys() {\r\n\t\treturn new KeyIterator(this.oldest);\r\n\t}\r\n\r\n\tvalues() {\r\n\t\treturn new ValueIterator(this.oldest);\r\n\t}\r\n\r\n\tentries() {\r\n\t\treturn this;\r\n\t}\r\n\r\n\t[Symbol.iterator]() {\r\n\t\treturn new EntryIterator(this.oldest);\r\n\t}\r\n\r\n\tforEach(fun, thisObj) {\r\n\t\tif (typeof thisObj !== \"object\") {\r\n\t\t\tthisObj = this;\r\n\t\t}\r\n\t\tlet entry = this.oldest;\r\n\t\twhile (entry) {\r\n\t\t\tfun.call(thisObj, entry.value, entry.key, this);\r\n\t\t\tentry = entry[NEWER];\r\n\t\t}\r\n\t}\r\n\r\n\t/** Returns a JSON (array) representation */\r\n\ttoJSON() {\r\n\t\tvar s = new Array(this.size),\r\n\t\t\ti = 0,\r\n\t\t\tentry = this.oldest;\r\n\t\twhile (entry) {\r\n\t\t\ts[i++] = { key: entry.key, value: entry.value };\r\n\t\t\tentry = entry[NEWER];\r\n\t\t}\r\n\t\treturn s;\r\n\t}\r\n\r\n\t/** Returns a String representation */\r\n\ttoString() {\r\n\t\tvar s = \"\",\r\n\t\t\tentry = this.oldest;\r\n\t\twhile (entry) {\r\n\t\t\ts += String(entry.key) + \":\" + entry.value;\r\n\t\t\tentry = entry[NEWER];\r\n\t\t\tif (entry) {\r\n\t\t\t\ts += \" < \";\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn s;\r\n\t}\r\n}\r\n\r\nfunction Entry(key, value) {\r\n\tthis.key = key;\r\n\tthis.value = value;\r\n\tthis[NEWER] = undefined;\r\n\tthis[OLDER] = undefined;\r\n}\r\n\r\nfunction EntryIterator(oldestEntry) {\r\n\tthis.entry = oldestEntry;\r\n}\r\nEntryIterator.prototype[Symbol.iterator] = function () {\r\n\treturn this;\r\n};\r\nEntryIterator.prototype.next = function () {\r\n\tlet ent = this.entry;\r\n\tif (ent) {\r\n\t\tthis.entry = ent[NEWER];\r\n\t\treturn { done: false, value: [ent.key, ent.value] };\r\n\t} else {\r\n\t\treturn { done: true, value: undefined };\r\n\t}\r\n};\r\n\r\nfunction KeyIterator(oldestEntry) {\r\n\tthis.entry = oldestEntry;\r\n}\r\nKeyIterator.prototype[Symbol.iterator] = function () {\r\n\treturn this;\r\n};\r\nKeyIterator.prototype.next = function () {\r\n\tlet ent = this.entry;\r\n\tif (ent) {\r\n\t\tthis.entry = ent[NEWER];\r\n\t\treturn { done: false, value: ent.key };\r\n\t} else {\r\n\t\treturn { done: true, value: undefined };\r\n\t}\r\n};\r\n\r\nfunction ValueIterator(oldestEntry) {\r\n\tthis.entry = oldestEntry;\r\n}\r\nValueIterator.prototype[Symbol.iterator] = function () {\r\n\treturn this;\r\n};\r\nValueIterator.prototype.next = function () {\r\n\tlet ent = this.entry;\r\n\tif (ent) {\r\n\t\tthis.entry = ent[NEWER];\r\n\t\treturn { done: false, value: ent.value };\r\n\t} else {\r\n\t\treturn { done: true, value: undefined };\r\n\t}\r\n};\r\n","// GoogleMutant by Iván Sánchez Ortega <ivan@sanchezortega.es>\r\n\r\n// Based on https://github.com/shramov/leaflet-plugins\r\n// GridLayer like https://avinmathew.com/leaflet-and-google-maps/ , but using MutationObserver instead of jQuery\r\n\r\n/*\r\n\"THE BEER-WARE LICENSE\":\r\n<ivan@sanchezortega.es> wrote this file. As long as you retain this notice you\r\ncan do whatever you want with this stuff. If we meet some day, and you think\r\nthis stuff is worth it, you can buy me a beer in return.\r\n*/\r\n\r\nimport { LRUMap } from \"./lru_map.js\";\r\n\r\nfunction waitForAPI(callback, context) {\r\n\tlet checkCounter = 0,\r\n\t\tintervalId = null;\r\n\r\n\tintervalId = setInterval(function () {\r\n\t\tif (checkCounter >= 20) {\r\n\t\t\tclearInterval(intervalId);\r\n\t\t\tthrow new Error(\"window.google not found after 10 seconds\");\r\n\t\t}\r\n\t\tif (!!window.google && !!window.google.maps && !!window.google.maps.Map) {\r\n\t\t\tclearInterval(intervalId);\r\n\t\t\tcallback.call(context);\r\n\t\t}\r\n\t\t++checkCounter;\r\n\t}, 500);\r\n}\r\n\r\n// 🍂class GridLayer.GoogleMutant\r\n// 🍂extends GridLayer\r\nL.GridLayer.GoogleMutant = L.GridLayer.extend({\r\n\toptions: {\r\n\t\tmaxZoom: 21, // can be 23, but ugly if more than maxNativeZoom\r\n\t\t// 🍂option type: String = 'roadmap'\r\n\t\t// Google's map type. Valid values are 'roadmap', 'satellite', 'terrain' or 'hybrid'.\r\n\t\ttype: \"roadmap\",\r\n\t\tmaxNativeZoom: 21,\r\n\t},\r\n\r\n\tinitialize: function (options) {\r\n\t\tL.GridLayer.prototype.initialize.call(this, options);\r\n\r\n\t\t// Couple data structures indexed by tile key\r\n\t\tthis._tileCallbacks = {}; // Callbacks for promises for tiles that are expected\r\n\t\tthis._lru = new LRUMap(500); // Tile LRU cache\r\n\r\n\t\tthis._imagesPerTile = this.options.type === \"hybrid\" ? 2 : 1;\r\n\r\n\t\tthis._boundOnMutatedImage = this._onMutatedImage.bind(this);\r\n\t},\r\n\r\n\tonAdd: function (map) {\r\n\t\tL.GridLayer.prototype.onAdd.call(this, map);\r\n\t\tthis._initMutantContainer();\r\n\r\n\t\t// Attribution and logo nodes are not mutated a second time if the\r\n\t\t// mutant is removed and re-added to the map, hence they are\r\n\t\t// not cleaned up on layer removal, so they can be added here.\r\n\t\tif (this._logoContainer) {\r\n\t\t\tmap._controlCorners.bottomleft.appendChild(this._logoContainer);\r\n\t\t}\r\n\t\tif (this._attributionContainer) {\r\n\t\t\tmap._controlCorners.bottomright.appendChild(this._attributionContainer);\r\n\t\t}\r\n\r\n\t\twaitForAPI(() => {\r\n\t\t\tif (!this._map) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._initMutant();\r\n\r\n\t\t\t//handle layer being added to a map for which there are no Google tiles at the given zoom\r\n\t\t\tgoogle.maps.event.addListenerOnce(this._mutant, \"idle\", () => {\r\n\t\t\t\tif (!this._map) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis._checkZoomLevels();\r\n\t\t\t\tthis._mutantIsReady = true;\r\n\t\t\t});\r\n\t\t});\r\n\t},\r\n\r\n\tonRemove: function (map) {\r\n\t\tL.GridLayer.prototype.onRemove.call(this, map);\r\n\t\tthis._observer.disconnect();\r\n\t\tmap._container.removeChild(this._mutantContainer);\r\n\t\tif (this._logoContainer) {\r\n\t\t\tL.DomUtil.remove(this._logoContainer);\r\n\t\t}\r\n\t\tif (this._attributionContainer) {\r\n\t\t\tL.DomUtil.remove(this._attributionContainer);\r\n\t\t}\r\n\t\tif (this._mutant) {\r\n\t\t\tgoogle.maps.event.clearListeners(this._mutant, \"idle\");\r\n\t\t}\r\n\t},\r\n\r\n\t// 🍂method addGoogleLayer(name: String, options?: Object): this\r\n\t// Adds layer with the given name and options to the google Map instance.\r\n\t// `name`: one of the google maps API layers, with it's constructor available in `google.maps` object.\r\n\t// currently following values supported: 'TrafficLayer', 'TransitLayer', 'BicyclingLayer'.\r\n\t// `options`: see https://developers.google.com/maps/documentation/javascript/reference/map\r\n\taddGoogleLayer: function (googleLayerName, options) {\r\n\t\tif (!this._subLayers) this._subLayers = {};\r\n\t\tthis.whenReady(() => {\r\n\t\t\tvar Constructor = google.maps[googleLayerName];\r\n\t\t\tvar googleLayer = new Constructor(options);\r\n\t\t\tgoogleLayer.setMap(this._mutant);\r\n\t\t\tthis._subLayers[googleLayerName] = googleLayer;\r\n\t\t});\r\n\t\treturn this;\r\n\t},\r\n\r\n\t// 🍂method removeGoogleLayer(name: String): this\r\n\t// Removes layer with the given name from the google Map instance.\r\n\tremoveGoogleLayer: function (googleLayerName) {\r\n\t\tthis.whenReady(() => {\r\n\t\t\tvar googleLayer = this._subLayers && this._subLayers[googleLayerName];\r\n\t\t\tif (googleLayer) {\r\n\t\t\t\tgoogleLayer.setMap(null);\r\n\t\t\t\tdelete this._subLayers[googleLayerName];\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_initMutantContainer: function () {\r\n\t\tif (!this._mutantContainer) {\r\n\t\t\tthis._mutantContainer = L.DomUtil.create(\r\n\t\t\t\t\"div\",\r\n\t\t\t\t\"leaflet-google-mutant leaflet-top leaflet-left\"\r\n\t\t\t);\r\n\t\t\tthis._mutantContainer.id = \"_MutantContainer_\" + L.Util.stamp(this._mutantContainer);\r\n\t\t\tthis._mutantContainer.style.pointerEvents = \"none\";\r\n\t\t\tthis._mutantContainer.style.visibility = \"hidden\";\r\n\r\n\t\t\tL.DomEvent.off(this._mutantContainer);\r\n\t\t}\r\n\t\tthis._map.getContainer().appendChild(this._mutantContainer);\r\n\r\n\t\tthis.setOpacity(this.options.opacity);\r\n\t\tconst style = this._mutantContainer.style;\r\n\t\tif (this._map.options.zoomSnap < 1) {\r\n\t\t\t// Fractional zoom needs a bigger mutant container in order to load more (smaller) tiles\r\n\t\t\tstyle.width = \"180%\";\r\n\t\t\tstyle.height = \"180%\";\r\n\t\t} else {\r\n\t\t\tstyle.width = \"100%\";\r\n\t\t\tstyle.height = \"100%\";\r\n\t\t}\r\n\t\tstyle.zIndex = -1;\r\n\r\n\t\tthis._attachObserver(this._mutantContainer);\r\n\t},\r\n\r\n\t_initMutant: function () {\r\n\t\tif (this._mutant) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar options = {\r\n\t\t\tcenter: { lat: 0, lng: 0 },\r\n\t\t\tzoom: 0,\r\n\t\t\ttilt: 0,\r\n\t\t\tmapTypeId: this.options.type,\r\n\t\t\tdisableDefaultUI: true,\r\n\t\t\tkeyboardShortcuts: false,\r\n\t\t\tdraggable: false,\r\n\t\t\tdisableDoubleClickZoom: true,\r\n\t\t\tscrollwheel: false,\r\n\t\t\tstyles: this.options.styles || [],\r\n\t\t\tbackgroundColor: \"transparent\",\r\n\t\t};\r\n\t\tif (this.options.mapId != null) {\r\n\t\t\toptions.mapId = this.options.mapId;\r\n\t\t}\r\n\t\tvar map = new google.maps.Map(this._mutantContainer, options);\r\n\r\n\t\tthis._mutant = map;\r\n\r\n\t\tthis._update();\r\n\r\n\t\t// 🍂event spawned\r\n\t\t// Fired when the mutant has been created.\r\n\t\tthis.fire(\"spawned\", { mapObject: map });\r\n\r\n\t\tthis._waitControls();\r\n\t\tthis.once('controls_ready', this._setupAttribution);\r\n\t},\r\n\r\n\t_attachObserver: function _attachObserver(node) {\r\n\t\tif (!this._observer) this._observer = new MutationObserver(this._onMutations.bind(this));\r\n\r\n\t\t// pass in the target node, as well as the observer options\r\n\t\tthis._observer.observe(node, { childList: true, subtree: true });\r\n\r\n\t\t// if we are reusing an old _mutantContainer, we must manually detect\r\n\t\t// all existing tiles in it\r\n\t\tArray.prototype.forEach.call(node.querySelectorAll(\"img\"), this._boundOnMutatedImage);\r\n\t},\r\n\r\n\t_waitControls: function () {\r\n\t\tconst id = setInterval(() => {\r\n\t\t\tconst layoutManager = this._mutant.__gm.layoutManager;\r\n\t\t\tif (!layoutManager) { return; }\r\n\t\t\tclearInterval(id);\r\n\t\t\tlet positions;\r\n\t\t\t// iterate through obfuscated key names to find positions set (atm: layoutManager.o)\r\n\t\t\tObject.keys(layoutManager).forEach(function(key) {\r\n\t\t\t\tconst el = layoutManager[key];\r\n\t\t\t\tif (el.get) {\r\n\t\t\t\t\tif (el.get(1) instanceof Node) {\r\n\t\t\t\t\t\tpositions = el;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// 🍂event controls_ready\r\n\t\t\t// Fired when controls positions get available (passed in `positions` property).\r\n\t\t\tthis.fire(\"controls_ready\", { positions });\r\n\t\t}, 50);\r\n\t},\r\n\r\n\t_setupAttribution: function (ev) {\r\n\t\tif (!this._map) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// https://developers.google.com/maps/documentation/javascript/reference/control#ControlPosition\r\n\t\tconst pos = google.maps.ControlPosition;\r\n\t\tconst ctr = this._attributionContainer = ev.positions.get(pos.BOTTOM_RIGHT);\r\n\t\tL.DomUtil.addClass(ctr, \"leaflet-control leaflet-control-attribution\");\r\n\t\tL.DomEvent.disableClickPropagation(ctr);\r\n\t\tctr.style.height = \"14px\";\r\n\t\tthis._map._controlCorners.bottomright.appendChild(ctr);\r\n\r\n\t\tthis._logoContainer = ev.positions.get(pos.BOTTOM_LEFT);\r\n\t\tthis._logoContainer.style.pointerEvents = \"auto\";\r\n\t\tthis._map._controlCorners.bottomleft.appendChild(this._logoContainer);\r\n\t},\r\n\r\n\t_onMutations: function _onMutations(mutations) {\r\n\t\tfor (var i = 0; i < mutations.length; ++i) {\r\n\t\t\tvar mutation = mutations[i];\r\n\t\t\tfor (var j = 0; j < mutation.addedNodes.length; ++j) {\r\n\t\t\t\tvar node = mutation.addedNodes[j];\r\n\r\n\t\t\t\tif (node instanceof HTMLImageElement) {\r\n\t\t\t\t\tthis._onMutatedImage(node);\r\n\t\t\t\t} else if (node instanceof HTMLElement) {\r\n\t\t\t\t\tArray.prototype.forEach.call(\r\n\t\t\t\t\t\tnode.querySelectorAll(\"img\"),\r\n\t\t\t\t\t\tthis._boundOnMutatedImage\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// Only images which 'src' attrib match this will be considered for moving around.\r\n\t// Looks like some kind of string-based protobuf, maybe??\r\n\t// Only the roads (and terrain, and vector-based stuff) match this pattern\r\n\t_roadRegexp: /!1i(\\d+)!2i(\\d+)!3i(\\d+|VinaFnapurmBegrtn)!/,\r\n\r\n\t// On the other hand, raster imagery matches this other pattern\r\n\t_satRegexp: /x=(\\d+)&y=(\\d+)&z=(\\d+|VinaFnapurmBegrtn)/,\r\n\r\n\t_onMutatedImage: function _onMutatedImage(imgNode) {\r\n\t\tlet coords;\r\n\t\tlet match = imgNode.src.match(this._roadRegexp);\r\n\t\tlet sublayer = 0;\r\n\r\n\t\tif (match) {\r\n\t\t\tcoords = {\r\n\t\t\t\tz: match[1],\r\n\t\t\t\tx: match[2],\r\n\t\t\t\ty: match[3],\r\n\t\t\t};\r\n\t\t\tif (this._imagesPerTile > 1) {\r\n\t\t\t\timgNode.style.zIndex = 1;\r\n\t\t\t\tsublayer = 1;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tmatch = imgNode.src.match(this._satRegexp);\r\n\t\t\tif (match) {\r\n\t\t\t\tcoords = {\r\n\t\t\t\t\tx: match[1],\r\n\t\t\t\t\ty: match[2],\r\n\t\t\t\t\tz: match[3],\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\t// imgNode.style.zIndex = 0;\r\n\t\t\tsublayer = 0;\r\n\t\t}\r\n\r\n\t\tif (coords) {\r\n\t\t\tvar tileKey = this._tileCoordsToKey(coords);\r\n\t\t\timgNode.style.position = \"absolute\";\r\n\r\n\t\t\tvar key = tileKey + \"/\" + sublayer;\r\n\t\t\t// Cache img so it can also be used in subsequent tile requests\r\n\t\t\tthis._lru.set(key, imgNode);\r\n\r\n\t\t\tif (key in this._tileCallbacks && this._tileCallbacks[key]) {\r\n\t\t\t\t// Use the tile for *all* pending callbacks. They'll be cloned anyway.\r\n\t\t\t\tthis._tileCallbacks[key].forEach((callback) => callback(imgNode));\r\n\t\t\t\tdelete this._tileCallbacks[key];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tcreateTile: function (coords, done) {\r\n\t\tconst key = this._tileCoordsToKey(coords),\r\n\t\t\ttileContainer = L.DomUtil.create(\"div\");\r\n\r\n\t\ttileContainer.style.textAlign = \"left\";\r\n\t\ttileContainer.dataset.pending = this._imagesPerTile;\r\n\t\tdone = done.bind(this, null, tileContainer);\r\n\r\n\t\tfor (var i = 0; i < this._imagesPerTile; ++i) {\r\n\t\t\tconst key2 = key + \"/\" + i,\r\n\t\t\t\timgNode = this._lru.get(key2);\r\n\t\t\tif (imgNode) {\r\n\t\t\t\ttileContainer.appendChild(this._clone(imgNode));\r\n\t\t\t\t--tileContainer.dataset.pending;\r\n\t\t\t} else {\r\n\t\t\t\tthis._tileCallbacks[key2] = this._tileCallbacks[key2] || [];\r\n\t\t\t\tthis._tileCallbacks[key2].push(\r\n\t\t\t\t\tfunction (c /*, k2*/) {\r\n\t\t\t\t\t\treturn function (imgNode) {\r\n\t\t\t\t\t\t\tc.appendChild(this._clone(imgNode));\r\n\t\t\t\t\t\t\t--c.dataset.pending;\r\n\t\t\t\t\t\t\tif (!parseInt(c.dataset.pending)) {\r\n\t\t\t\t\t\t\t\tdone();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}.bind(this);\r\n\t\t\t\t\t}.bind(this)(tileContainer /*, key2*/)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!parseInt(tileContainer.dataset.pending)) {\r\n\t\t\tL.Util.requestAnimFrame(done);\r\n\t\t}\r\n\t\treturn tileContainer;\r\n\t},\r\n\r\n\t_clone: function (imgNode) {\r\n\t\tconst clonedImgNode = imgNode.cloneNode(true);\r\n\t\tclonedImgNode.style.visibility = \"visible\";\r\n\t\treturn clonedImgNode;\r\n\t},\r\n\r\n\t_checkZoomLevels: function () {\r\n\t\t//setting the zoom level on the Google map may result in a different zoom level than the one requested\r\n\t\t//(it won't go beyond the level for which they have data).\r\n\t\tconst zoomLevel = this._map.getZoom(),\r\n\t\t\tgMapZoomLevel = this._mutant.getZoom();\r\n\r\n\t\tif (!zoomLevel || !gMapZoomLevel) return;\r\n\r\n\t\tif (\r\n\t\t\tgMapZoomLevel !== zoomLevel || //zoom levels are out of sync, Google doesn't have data\r\n\t\t\tgMapZoomLevel > this.options.maxNativeZoom\r\n\t\t) {\r\n\t\t\t//at current location, Google does have data (contrary to maxNativeZoom)\r\n\t\t\t//Update maxNativeZoom\r\n\t\t\tthis._setMaxNativeZoom(gMapZoomLevel);\r\n\t\t}\r\n\t},\r\n\r\n\t_setMaxNativeZoom: function (zoomLevel) {\r\n\t\tif (zoomLevel !== this.options.maxNativeZoom) {\r\n\t\t\tthis.options.maxNativeZoom = zoomLevel;\r\n\t\t\tthis._resetView();\r\n\t\t}\r\n\t},\r\n\r\n\t_update: function (center) {\r\n\t\t// zoom level check needs to happen before super's implementation (tile addition/creation)\r\n\t\t// otherwise tiles may be missed if maxNativeZoom is not yet correctly determined\r\n\t\tif (this._mutant) {\r\n\t\t\tcenter = center || this._map.getCenter();\r\n\t\t\tconst _center = new google.maps.LatLng(center.lat, center.lng),\r\n\t\t\t\tzoom = Math.round(this._map.getZoom()),\r\n\t\t\t\tmutantZoom = this._mutant.getZoom();\r\n\r\n\t\t\tthis._mutant.setCenter(_center);\r\n\r\n\t\t\t//ignore fractional zoom levels\r\n\t\t\tif (zoom !== mutantZoom) {\r\n\t\t\t\tthis._mutant.setZoom(zoom);\r\n\r\n\t\t\t\tif (this._mutantIsReady) this._checkZoomLevels();\r\n\t\t\t\t//else zoom level check will be done later by 'idle' handler\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tL.GridLayer.prototype._update.call(this, center);\r\n\t},\r\n\r\n\t// @method whenReady(fn: Function, context?: Object): this\r\n\t// Runs the given function `fn` when the mutant gets initialized, or immediately\r\n\t// if it's already initialized, optionally passing a function context.\r\n\twhenReady: function (callback, context) {\r\n\t\tif (this._mutant) {\r\n\t\t\tcallback.call(context || this, { target: this });\r\n\t\t} else {\r\n\t\t\tthis.on(\"spawned\", callback, context);\r\n\t\t}\r\n\t\treturn this;\r\n\t},\r\n});\r\n\r\n// 🍂factory gridLayer.googleMutant(options)\r\n// Returns a new `GridLayer.GoogleMutant` given its options\r\nL.gridLayer.googleMutant = function (options) {\r\n\treturn new L.GridLayer.GoogleMutant(options);\r\n};\r\n"],"names":["const","let","this"],"mappings":"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"}